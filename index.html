<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>HANA Counter V10</title>
    <style>
        :root {
            --bg-color: #1a1a1a; --cell-bg: #444444; --grid-line: #111111;
            --text-white: #ffffff; --lamp-blue: #33aaff; --lamp-yellow: #ffdd44;
            --lamp-green: #44ff44; --lamp-red: #ff4444; --lamp-white: #dddddd;
            --active-btn: #007aff;
        }
        html, body {
            background: var(--bg-color); color: var(--text-white);
            font-family: -apple-system, sans-serif; margin: 0; padding: 0; height: 100%;
            user-select: none; -webkit-user-select: none; touch-action: pan-y;
        }
        .rainbow {
            background: linear-gradient(to right, #ff3333, #ffff33, #33ff33, #33ffff, #3333ff, #ff33ff, #ff3333);
            background-size: 200% auto; -webkit-background-clip: text; background-clip: text;
            -webkit-text-fill-color: transparent; font-weight: bold; animation: rainbow_move 3s linear infinite;
        }
        @keyframes rainbow_move { to { background-position: 200% center; } }
        .header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 6px 15px; background: #000; position: sticky; top: 0; z-index: 100;
            border-bottom: 1px solid #333;
        }
        .header-icon { font-size: 22px; cursor: pointer; color: white; padding: 5px; }
        .header-title { font-size: 15px; font-weight: bold; border-bottom: 2px solid white; }
        .container { padding: 5px 10px 80px; }
        .main-grid-wrapper { display: flex; flex-direction: column; }
        @media (orientation: landscape) { .main-grid-wrapper { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; align-items: start; } }
        .section-title { text-align: center; margin: 6px 0 2px; font-size: 11px; font-weight: bold; }
        .grid { display: grid; gap: 1px; background: var(--grid-line); border: 1px solid var(--grid-line); margin-bottom: 5px; }
        .grid-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-5 { grid-template-columns: repeat(5, 1fr); }
        .grid-2 { grid-template-columns: 1fr 1fr; }
        .cell { background: var(--cell-bg); padding: 5px 2px; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 40px; cursor: pointer; }
        .label { font-size: 10px; color: white; margin-bottom: 1px; pointer-events: none; }
        .value { font-size: 20px; font-weight: bold; line-height: 1.2; pointer-events: none; }
        .touch-active { background: #666 !important; }
        .minus-mode { background: #900 !important; }
        .selected-lamp { border: 2px solid #fff; background: #666; }
        .active-mode { background: var(--active-btn) !important; color: white; }
        .val-input { width: 100%; background: transparent; color: white; border: none; text-align: center; font-size: 20px; font-weight: bold; outline: none; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 200; flex-direction: column; }
        .modal.active { display: flex; }
        .modal-header { flex: 0 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #000; border-bottom: 1px solid #333; }
        .modal-body { flex: 1 1 auto; overflow-y: auto; padding: 10px 15px 40px; }
        .export-btn { width: 100%; padding: 15px; background: #000; color: #0ff; border: 1px solid #0ff; margin-top: 10px; font-weight: bold; }
        .detail-table { width: 100%; border-collapse: collapse; font-size: 12px; color: white; margin-bottom: 20px; }
        .detail-table th { background: #222; text-align: left; padding: 10px 5px; border-bottom: 1px solid #444; font-weight: normal; }
        .detail-table td { padding: 10px 5px; border-bottom: 1px solid #444; text-align: right; font-weight: bold; cursor: pointer; }
        .sub-graph-row { display: none; background: #111; }
        .sub-graph-row.open { display: table-row; }
        .bar-row { display: flex; align-items: center; margin: 6px 0; font-size: 13px; }
        .bar-label { width: 40px; }
        .bar-bg { flex: 1; height: 10px; background: #333; margin: 0 8px; border-radius: 2px; overflow: hidden; }
        .bar-fill { height: 100%; background: #fff; width: 0%; transition: width 0.3s; }
        .bar-val { width: 45px; text-align: right; }
        .expect-box { background: #222; padding: 10px; border: 1px solid #444; margin-bottom: 15px; }
        .expect-row { display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 4px; }
        .expect-val { font-weight: bold; color: #0f0; }
    </style>
</head>
<body>

<div class="header">
    <div class="header-icon" onclick="openModal('predict-modal')">ğŸ”</div>
    <div class="header-title" id="disp-machine">---</div>
    <div class="header-icon" onclick="openModal('setting-modal')">âš™ï¸</div>
</div>

<div class="container">
    <div class="main-grid-wrapper" id="main-ui"></div>
</div>

<div id="setting-modal" class="modal">
    <div class="modal-header">
        <div style="width:24px;"></div><div style="font-weight:bold;">è¨­å®š</div>
        <div class="header-icon" onclick="closeModal('setting-modal')">âœ•</div>
    </div>
    <div class="modal-body">
        <p class="section-title">ï¼œæ©Ÿç¨®é¸æŠï¼</p>
        <select id="machine-select" style="width:100%; padding:10px; background:#333; color:white;" onchange="updateMachine()">
            <option value="king">ã‚­ãƒ³ã‚°ãƒãƒŠãƒãƒŠ</option>
            <option value="new">ãƒ‹ãƒ¥ãƒ¼ã‚­ãƒ³ã‚°ãƒãƒŠãƒãƒŠ</option>
        </select>

        <p class="section-title">ï¼œè¡¨ç¤ºãƒ»å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ï¼</p>
        <div class="grid grid-2">
            <div class="cell" id="btn-view-personal" onclick="setViewMode('personal')"><div class="label" style="font-size:14px;">å€‹äºº</div></div>
            <div class="cell" id="btn-view-total" onclick="setViewMode('total')"><div class="label" style="font-size:14px;">å…¨ã¦</div></div>
        </div>
        
        <p class="section-title">ï¼œå…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ï¼</p>
        <div class="grid grid-2">
            <div class="cell" id="btn-mode-tap" onclick="setInputMode('tap')"><div class="label" style="font-size:14px;">ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼</div></div>
            <div class="cell" id="btn-mode-input" onclick="setInputMode('input')"><div class="label" style="font-size:14px;">æ•°å€¤å…¥åŠ›</div></div>
        </div>
        
        <p class="section-title">ï¼œæ‰“ã¡å§‹ã‚ãƒ‡ãƒ¼ã‚¿ï¼</p>
        <div class="grid grid-3">
            <div class="cell"><div class="label">ã‚²ãƒ¼ãƒ æ•°</div><input type="number" class="val-input" id="start-g" onchange="saveStart()" onfocus="this.select()"></div>
            <div class="cell"><div class="label">BIG</div><input type="number" class="val-input" id="start-b" onchange="saveStart()" onfocus="this.select()"></div>
            <div class="cell"><div class="label">REG</div><input type="number" class="val-input" id="start-r" onchange="saveStart()" onfocus="this.select()"></div>
        </div>

        <p class="section-title">ï¼œBIGï¼šç­ä½“ãƒ©ãƒ³ãƒ—(æœä¸€)ï¼</p>
        <div class="grid grid-5" id="morning-lamp-selector"></div>

        <button onclick="exportData()" class="export-btn">ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›(ã‚³ãƒ”ãƒ¼)</button>
        <button onclick="resetAll()" style="width:100%; padding:10px; background:transparent; color:#f44; border:1px solid #f44; margin-top:20px;">å…¨ãƒªã‚»ãƒƒãƒˆ</button>
    </div>
</div>

<div id="predict-modal" class="modal">
    <div class="modal-header">
        <div style="width:24px;"></div><div style="font-weight:bold;">è¨­å®šæ¨æ¸¬</div>
        <div class="header-icon" onclick="closeModal('predict-modal')">âœ•</div>
    </div>
    <div class="modal-body">
        <p class="section-title">ï¼œè¨­å®šæ¨æ¸¬ï¼</p>
        <div id="predict-bars" style="margin-bottom:15px;"></div>
        <p class="section-title">ï¼œæœŸå¾…å€¤ï¼</p>
        <div class="expect-box" id="expect-info"></div>
        <p class="section-title">ï¼œè©³ç´°ãƒ‡ãƒ¼ã‚¿ (ã‚¿ãƒƒãƒ—ã§è©³ç´°æ¨æ¸¬)ï¼</p>
        <table class="detail-table" id="detail-rows"></table>
    </div>
</div>

<script>
    const DEFAULTS = {
        machine: 'king', mode: 'tap', viewMode: 'personal',
        start: { g:0, b:0, r:0 },
        cur: { g:0, b:0, r:0, bell:0, suika:0, retro_d:0, retro:0 },
        lamps: { big: [0,0,0,0,0], regS: [0,0,0,0,0], regT: [0,0,0,0,0] },
        morning: -1
    };

    const PAYOUT = [97, 99, 101, 104, 107, 110];
    const PARAMS = {
        king: {
            b: [292, 280, 268, 257, 244, 232],
            r: [489, 452, 420, 390, 360, 332],
            sum: [183, 172.9, 163.8, 154.6, 145.3, 136.2],
            bell: [7.254, 7.250, 7.249, 7.048, 6.975, 6.940],
            suika: [42.01, 38.55, 36.21, 31.51, 29.39, 27.54],
            lampB: [[32,35,40,84,6553],[29,31,38,78,3276],[26,27,35,63,1638],[23,25,34,55,655],[21,23,30,44,327],[20,21,29,37,131]],
            sideR: [[36,24,24,16,0.02],[23,35,17,25,0.05],[34,22,26,18,0.10],[22,32,18,28,0.20],[31,21,29,19,0.39],[25,25,25,25,0.78]],
            lampR: [[1000,2000,4000,8000,16000],[800,1600,3200,6400,12800],[600,1200,2400,4800,9600],[400,800,1600,3200,6400],[200,400,800,1600,3200],[100,200,400,800,1600]],
            retro: [15, 13.7, 12.4, 11.1, 9.8, 8.5]
        }
    };
    PARAMS.new = PARAMS.king;

    let data = loadData();

    function loadData() {
        const saved = localStorage.getItem('hana_v10_data');
        return saved ? JSON.parse(saved) : JSON.parse(JSON.stringify(DEFAULTS));
    }
    function save() { localStorage.setItem('hana_v10_data', JSON.stringify(data)); updateView(); }
    function init() {
        document.getElementById('machine-select').value = data.machine;
        document.getElementById('start-g').value = data.start.g;
        document.getElementById('start-b').value = data.start.b;
        document.getElementById('start-r').value = data.start.r;
        renderMorningSelector();
        updateView();
    }
    function updateView() {
        document.getElementById('disp-machine').innerText = (data.machine === 'king' ? 'ã‚­ãƒ³ã‚°ãƒãƒŠãƒãƒŠ' : 'ãƒ‹ãƒ¥ãƒ¼ã‚­ãƒ³ã‚°ãƒãƒŠãƒãƒŠ');
        document.getElementById('btn-view-personal').className = `cell ${data.viewMode==='personal'?'active-mode':''}`;
        document.getElementById('btn-view-total').className = `cell ${data.viewMode==='total'?'active-mode':''}`;
        document.getElementById('btn-mode-tap').className = `cell ${data.mode==='tap'?'active-mode':''}`;
        document.getElementById('btn-mode-input').className = `cell ${data.mode==='input'?'active-mode':''}`;
        renderMain();
    }
    function renderMorningSelector() {
        const cols = ['var(--lamp-white)', 'var(--lamp-blue)','var(--lamp-yellow)','var(--lamp-green)','var(--lamp-red)'];
        let html = '';
        ['ç™½','é’','é»„','ç·‘','èµ¤'].forEach((l, i) => {
            html += `<div class="cell ${data.morning===i?'selected-lamp':''}" onclick="setMorning(${i})"><div class="label" style="color:${cols[i]}; font-weight:bold;">${l}</div></div>`;
        });
        document.getElementById('morning-lamp-selector').innerHTML = html;
    }
    function setMorning(v) { data.morning = (data.morning===v)?-1:v; save(); renderMorningSelector(); }
    function setViewMode(m) { data.viewMode = m; save(); }
    function setInputMode(m) { data.mode = m; save(); }
    function saveStart() {
        data.start.g = Number(document.getElementById('start-g').value)||0;
        data.start.b = Number(document.getElementById('start-b').value)||0;
        data.start.r = Number(document.getElementById('start-r').value)||0;
        save();
    }
    function getVal(k) { return data.viewMode === 'personal' ? data.cur[k] : data.cur[k] + (data.start[k]||0); }

    function renderMain() {
        const c = data.cur; const vG = getVal('g'); const vB = getVal('b'); const vR = getVal('r');
        const html = `
            <div>
                <p class="section-title">ï¼œæ‰“ã¡å§‹ã‚ï¼</p>
                <div class="grid grid-3"><div class="cell"><div class="label">ã‚²ãƒ¼ãƒ æ•°</div><div class="value">${data.start.g}</div></div><div class="cell"><div class="label">BIG</div><div class="value">${data.start.b}</div></div><div class="cell"><div class="label">REG</div><div class="value">${data.start.r}</div></div></div>
                <p class="section-title">ï¼œç¾åœ¨ï¼(${data.viewMode==='total'?'å…¨ã¦':'å€‹äºº'})</p>
                <div class="grid grid-3">${mkC('g','Gæ•°',vG,50)}${mkC('b','BIG',vB)}${mkC('r','REG',vR)}</div>
            </div>
            <div>
                <p class="section-title">ï¼œé€šå¸¸æ™‚ï¼šãƒ™ãƒ«ï¼</p><div class="grid">${mkC('bell','',c.bell)}</div>
                <p class="section-title">ï¼œBIGï¼šã‚¹ã‚¤ã‚«ï¼</p><div class="grid">${mkC('suika','',c.suika)}</div>
            </div>
            <div>
                <p class="section-title">ï¼œãƒ¬ãƒˆãƒ­ã‚µã‚¦ãƒ³ãƒ‰ï¼</p>
                <div class="grid grid-2">${mkC('retro_d','æ¡ä»¶é”æˆ',c.retro_d)}${mkC('retro','ç™ºç”Ÿ',c.retro)}</div>
                <p class="section-title">ï¼œBIGï¼šç­ä½“ãƒ©ãƒ³ãƒ—ï¼</p><div class="grid grid-5">${mkL('big')}</div>
            </div>
            <div>
                <p class="section-title">ï¼œREGï¼šã‚µã‚¤ãƒ‰ãƒ©ãƒ³ãƒ—ï¼</p><div class="grid grid-5">${mkL('regS')}</div>
                <p class="section-title">ï¼œREGï¼šç­ä½“ãƒ©ãƒ³ãƒ—ï¼</p><div class="grid grid-5">${mkL('regT')}</div>
            </div>
        `;
        document.getElementById('main-ui').innerHTML = html;
        if(data.mode==='tap') attachEvents();
    }

    function mkC(id, lab, val, st=1) {
        if(data.mode==='input') return `<div class="cell"><div class="label">${lab}</div><input type="number" class="val-input" value="${val}" onchange="data.cur.${id}=Number(this.value);save();" onfocus="this.select()"></div>`;
        return `<div class="cell t-btn" data-id="${id}" data-step="${st}"><div class="label">${lab}</div><div class="value">${val}</div></div>`;
    }
    function mkL(t) {
        const cols = ['var(--lamp-blue)','var(--lamp-yellow)','var(--lamp-green)','var(--lamp-red)','rainbow'];
        return ['é’','é»„','ç·‘','èµ¤','è™¹'].map((l, i) => {
            const v = data.lamps[t][i];
            const cls = cols[i]==='rainbow'?'class="rainbow"':`style="color:${cols[i]}"`;
            if(data.mode==='input') return `<div class="cell"><div class="label" ${cls}>${l}</div><input type="number" class="val-input" value="${v}" onchange="data.lamps.${t}[${i}]=Number(this.value);save();" onfocus="this.select()"></div>`;
            return `<div class="cell t-lamp" data-type="${t}" data-idx="${i}"><div class="label" ${cls}>${l}</div><div class="value">${v}</div></div>`;
        }).join('');
    }

    function attachEvents() {
        document.querySelectorAll('.cell').forEach(el => {
            if(!el.classList.contains('t-btn') && !el.classList.contains('t-lamp')) return;
            let sy, sx, isC, timer;
            el.ontouchstart = (e) => {
                sy=e.touches[0].clientY; sx=e.touches[0].clientX; isC=false; el.classList.add('touch-active');
                timer=setTimeout(()=>{if(!isC) el.classList.add('minus-mode');},600);
            };
            el.ontouchend = (e) => {
                clearTimeout(timer); if(isC) return;
                const step = Number(el.dataset.step||1) * (el.classList.contains('minus-mode')?-1:1);
                if(el.dataset.id) data.cur[el.dataset.id] = Math.max(0, data.cur[el.dataset.id]+step);
                else data.lamps[el.dataset.type][el.dataset.idx] = Math.max(0, data.lamps[el.dataset.type][el.dataset.idx]+step);
                el.classList.remove('touch-active','minus-mode'); save();
            };
            el.ontouchmove = (e) => { if(Math.abs(e.touches[0].clientY-sy)>10) isC=true; };
        });
    }

    function updateMachine() { data.machine = document.getElementById('machine-select').value; save(); }
    function resetAll() { if(confirm("æ¶ˆå»ã—ã¾ã™ã‹ï¼Ÿ")) { localStorage.removeItem('hana_v10_data'); location.reload(); } }
    function openModal(id) { document.getElementById(id).classList.add('active'); if(id==='predict-modal') calc(); }
    function closeModal(id) { document.getElementById(id).classList.remove('active'); }

    // --- è¨­å®šæ¨æ¸¬ã‚¨ãƒ³ã‚¸ãƒ³ ---
    function calc() {
        const c = data.cur; const p = PARAMS[data.machine];
        const L = [1,1,1,1,1,1]; // å°¤åº¦

        const getL = (n, k, table) => {
            let res = [1,1,1,1,1,1];
            if(n <= 0) return res;
            for(let i=0; i<6; i++) {
                const pr = 1/table[i];
                res[i] = Math.pow(pr, k) * Math.pow(1-pr, n-k);
            }
            return res;
        };

        const getMultiL = (counts, tableRows) => {
            let res = [1,1,1,1,1,1];
            if(counts.reduce((a,b)=>a+b,0) === 0) return res;
            for(let i=0; i<6; i++) {
                const row = tableRows[i];
                const rowSum = row.reduce((a,b)=>a+b,0);
                let l = 1;
                counts.forEach((cnt, idx) => { if(cnt>0) l *= Math.pow(row[idx]/rowSum, cnt); });
                res[i] = l;
            }
            return res;
        };

        const lB = getL(c.g, c.b, p.b);
        const lR = getL(c.g, c.r, p.r);
        const lSum = getL(c.g, c.b+c.r, p.sum);
        const lBell = getL(c.g, c.bell, p.bell);
        const lSuika = getL(c.b*20, c.suika, p.suika);
        const lRetro = getL(c.retro_d, c.retro, p.retro);
        
        let bLampCounts = [...data.lamps.big]; if(data.morning>=1) bLampCounts[data.morning-1]++;
        const lBLamp = getMultiL(bLampCounts, p.lampB);
        const lSide = getMultiL(data.lamps.regS, p.sideR);
        const lRLamp = getMultiL(data.lamps.regT, p.lampR);

        for(let i=0; i<6; i++) L[i] = lB[i]*lR[i]*lBell[i]*lSuika[i]*lRetro[i]*lBLamp[i]*lSide[i]*lRLamp[i];
        
        const sumL = L.reduce((a,b)=>a+b,0) || 1;
        const pcts = L.map(v => (v/sumL)*100);
        document.getElementById('predict-bars').innerHTML = renderBars(pcts);

        // æœŸå¾…å€¤
        let eS = 0; pcts.forEach((v, i) => eS += (i+1)*(v/100));
        let eR = PAYOUT[Math.floor(eS)-1] || PAYOUT[0];
        if(eS > Math.floor(eS) && Math.floor(eS) < 6) {
            let r1 = PAYOUT[Math.floor(eS)-1], r2 = PAYOUT[Math.floor(eS)];
            eR = r1 + (r2-r1)*(eS-Math.floor(eS));
        }
        const vG = getVal('g'); const vB = getVal('b'); const vR = getVal('r');
        const diff = Math.round((vG*3) * (eR/100 - 1));

        document.getElementById('expect-info').innerHTML = `
            <div class="expect-row"><div>ç·å›è»¢æ•°</div><div class="expect-val" style="color:#fff">${vG + vB*20 + vR*10}G</div></div>
            <div class="expect-row"><div>æœŸå¾…è¨­å®š</div><div class="expect-val">${eS.toFixed(2)}</div></div>
            <div class="expect-row"><div>æœŸå¾…æ©Ÿæ¢°å‰²</div><div class="expect-val">${eR.toFixed(2)}%</div></div>
            <div class="expect-row"><div>æœŸå¾…ç²å¾—æšæ•°</div><div class="expect-val">${diff>=0?'+':''}${diff}æš</div></div>
        `;

        const mkRow = (lab, val, lArr, id) => {
            const rowSum = lArr.reduce((a,b)=>a+b,0) || 1;
            window[`p_${id}`] = lArr.map(v=>(v/rowSum)*100);
            return `<tr onclick="toggleGraph('${id}')"><th>${lab}</th><td>${val}</td></tr><tr id="g_${id}" class="sub-graph-row"><td colspan="2" id="c_${id}" style="padding:10px;"></td></tr>`;
        };

        const lampStr = (t, counts) => counts.map((v,i)=>`<span style="color:${['#3af','#fd4','#4f4','#f44','#fff'][i]}">${['é’','é»„','ç·‘','èµ¤','è™¹'][i]}</span>:${v}`).join(' ');

        document.getElementById('detail-rows').innerHTML = 
            mkRow('é€šå¸¸æ™‚ï¼šãƒ™ãƒ«', `${c.bell}å› (1/${(c.g/c.bell||0).toFixed(1)})`, lBell, 'bell') +
            mkRow('åˆç®—', `${vB+vR}å› (1/${(vG/(vB+vR)||0).toFixed(1)})`, lSum, 'sum') +
            mkRow('BIGï¼šã‚¹ã‚¤ã‚«', `${c.suika}å› (1/${(c.b*20/c.suika||0).toFixed(1)})`, lSuika, 'suika') +
            mkRow('BIGï¼šç­ä½“', lampStr('big', bLampCounts), lBLamp, 'blamp') +
            mkRow('REGï¼šã‚µã‚¤ãƒ‰', lampStr('regS', data.lamps.regS), lSide, 'side') +
            mkRow('REGï¼šç­ä½“', lampStr('regT', data.lamps.regT), lRLamp, 'rlamp') +
            mkRow('ãƒ¬ãƒˆãƒ­', `${c.retro}/${c.retro_d}`, lRetro, 'retro');
    }

    function renderBars(p) {
        const max = Math.max(...p)||1;
        return p.map((v, i) => `<div class="bar-row"><div class="bar-label">è¨­å®š${i+1}</div><div class="bar-bg"><div class="bar-fill" style="width:${(v/max)*100}%"></div></div><div class="bar-val">${v.toFixed(1)}%</div></div>`).join('');
    }

    window.toggleGraph = (id) => {
        const r = document.getElementById(`g_${id}`);
        const isOpen = r.classList.contains('open');
        document.querySelectorAll('.sub-graph-row').forEach(el=>el.classList.remove('open'));
        if(!isOpen) {
            r.classList.add('open');
            document.getElementById(`c_${id}`).innerHTML = `<div style="font-size:10px; color:#aaa; margin-bottom:4px;">â–¼ å€‹åˆ¥æ¨æ¸¬</div>` + renderBars(window[`p_${id}`]);
        }
    };

    function exportData() {
        const vG=getVal('g'), vB=getVal('b'), vR=getVal('r');
        const bL = [...data.lamps.big]; if(data.morning>=1) bL[data.morning-1]++;
        const row = [new Date().toLocaleDateString(), vG+vB*20+vR*10, vG, vB*20+vR*10, vB, vR, data.cur.bell, data.cur.suika, ...bL, ...data.lamps.regS, ...data.lamps.regT, data.cur.retro_d, data.cur.retro];
        navigator.clipboard.writeText(row.join('\t')).then(()=>alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ"));
    }

    window.onload = init;
</script>
</body>
</html>
